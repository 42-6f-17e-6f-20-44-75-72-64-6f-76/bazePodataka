-- This script was generated by a beta version of the ERD tool in pgAdmin 4.
-- Please log an issue at https://redmine.postgresql.org/projects/pgadmin4/issues/new if you find any bugs, including reproduction steps.
BEGIN;


CREATE TABLE public."DnevniMeniJelo"
(
    broj_porcija bigint NOT NULL,
    id_jela bigint NOT NULL,
    id_dnevni_meni bigint NOT NULL,
    PRIMARY KEY (id_jela, id_dnevni_meni)
);

CREATE TABLE public."MeniJelo"
(
    id_meni bigint NOT NULL,
    id_jelo bigint NOT NULL,
    PRIMARY KEY (id_meni, id_jelo)
);

CREATE TABLE public."NamirniceJelo"
(
    id_namirnica bigint NOT NULL,
    id_jelo bigint NOT NULL,
    kolicina bigint,
    PRIMARY KEY (id_namirnica, id_jelo)
);

CREATE TABLE public."RacunJelo"
(
    id_racun bigint NOT NULL,
    id_jelo bigint NOT NULL,
    kolicina bigint NOT NULL,
    PRIMARY KEY (id_jelo, id_racun)
);

CREATE TABLE public.dnevni_meni
(
    id bigint NOT NULL,
    datum date NOT NULL,
    PRIMARY KEY (id)
);

CREATE TABLE public.jelo
(
    id bigint NOT NULL,
    naziv character varying(30) NOT NULL,
    cijena bigint NOT NULL,
    PRIMARY KEY (id)
);

CREATE TABLE public.meni
(
    id bigint NOT NULL,
    naziv character varying(30) NOT NULL,
    PRIMARY KEY (id)
);

CREATE TABLE public.namirnice
(
    id bigint NOT NULL,
    naziv character varying(30) NOT NULL,
    raspoloziva_kolicina bigint,
    datum_isteka_roka_trajanja date,
    nabavna_cijena bigint,
    PRIMARY KEY (id)
);

CREATE TABLE public.racun
(
    id bigint NOT NULL,
    datum date NOT NULL,
    PRIMARY KEY (id)
);

ALTER TABLE public."DnevniMeniJelo"
    ADD FOREIGN KEY (id_dnevni_meni)
    REFERENCES public.dnevni_meni (id)
    NOT VALID;


ALTER TABLE public."DnevniMeniJelo"
    ADD FOREIGN KEY (id_jela)
    REFERENCES public.jelo (id)
    NOT VALID;


ALTER TABLE public."MeniJelo"
    ADD FOREIGN KEY (id_jelo)
    REFERENCES public.jelo (id)
    NOT VALID;


ALTER TABLE public."MeniJelo"
    ADD FOREIGN KEY (id_meni)
    REFERENCES public.meni (id)
    NOT VALID;


ALTER TABLE public."NamirniceJelo"
    ADD FOREIGN KEY (id_jelo)
    REFERENCES public.jelo (id)
    NOT VALID;


ALTER TABLE public."NamirniceJelo"
    ADD FOREIGN KEY (id_namirnica)
    REFERENCES public.namirnice (id)
    NOT VALID;


ALTER TABLE public."RacunJelo"
    ADD FOREIGN KEY (id_jelo)
    REFERENCES public.jelo (id)
    NOT VALID;


ALTER TABLE public."RacunJelo"
    ADD FOREIGN KEY (id_jelo)
    REFERENCES public.racun (id)
    NOT VALID;

END;