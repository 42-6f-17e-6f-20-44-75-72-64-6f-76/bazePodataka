/*dodaj racun pomocu samo naziva jela i kolicina*/
BEGIN; 
with rows as (
INSERT INTO racun DEFAULT VALUES RETURNING id
)
INSERT INTO jeloracun(id_jelo,id_racun,kolicina) 
VALUES
((SELECT jelo.id FROM jelo WHERE jelo.naziv='Mjesana Pizza'),(SELECT id FROM rows),1),
((SELECT jelo.id FROM jelo WHERE jelo.naziv='Margarita Pizza'),(SELECT id FROM rows),3),
((SELECT jelo.id FROM jelo WHERE jelo.naziv='Peceno'),(SELECT id FROM rows),4),
((SELECT jelo.id FROM jelo WHERE jelo.naziv='Palacinke'),(SELECT id FROM rows),2);
COMMIT; 


/*dodaj dnevni meni pomocu samo naziva jela i broja porcija*/
BEGIN; 
with rows as (
INSERT INTO dnevnimeni(datum) VALUES ('2021-11-01'::date) RETURNING id
)
INSERT INTO jelodnevnimeni(id_jelo,id_dnevnimeni,broj_porcija) 
VALUES
((SELECT jelo.id FROM jelo WHERE jelo.naziv='Mjesana Pizza'),(SELECT id FROM rows),10),
((SELECT jelo.id FROM jelo WHERE jelo.naziv='Margarita Pizza'),(SELECT id FROM rows),10),
((SELECT jelo.id FROM jelo WHERE jelo.naziv='Peceno'),(SELECT id FROM rows),10),
((SELECT jelo.id FROM jelo WHERE jelo.naziv='Palacinke'),(SELECT id FROM rows),10);
COMMIT; 

/*dodaj meni pomocu samo naziva menia i jela*/
BEGIN; 
with rows as (
INSERT INTO meni(naziv) VALUES ('Juhe') RETURNING id
)
INSERT INTO jelomeni(id_jelo,id_meni) 
VALUES
((SELECT jelo.id FROM jelo WHERE jelo.naziv='Mjesana Pizza'),(SELECT id FROM rows)),
((SELECT jelo.id FROM jelo WHERE jelo.naziv='Margarita Pizza'),(SELECT id FROM rows)),
((SELECT jelo.id FROM jelo WHERE jelo.naziv='Peceno'),(SELECT id FROM rows)),
((SELECT jelo.id FROM jelo WHERE jelo.naziv='Palacinke'),(SELECT id FROM rows));
COMMIT; 
