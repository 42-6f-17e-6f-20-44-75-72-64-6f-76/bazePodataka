-> vlasnik restorana zeli dobiti prioritetna jela za dnevni meni obzirom na datum isteka roka namirnica u odredenom broju dana

SELECT * FROM (
SELECT DISTINCT ON(distinct_datum.prioritetna_jela) * FROM (
SELECT jelo.naziv AS prioritetna_jela, namirnice.naziv AS namirnica_u_pripravi, namirnice. rok_trajanja from jelo
JOIN JeloNamirnice ON jelo.id = JeloNamirnice.id_jelo
JOIN namirnice ON namirnice.id = JeloNamirnice.id_namirnice
WHERE namirnice.rok_trajanja BETWEEN now()::date AND now()::date+50 
ORDER BY (namirnice.rok_trajanja)
)distinct_datum
)distinct_jela
ORDER BY (distinct_jela.rok_trajanja);
